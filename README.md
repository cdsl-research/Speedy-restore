# Speedy-restore

このリポジトリには、バックアップ中にリストア操作を優先するためにディスク読み取り速度を動的に制御するスクリプトが含まれています。リストア時の転送時間を基準時間の38%以内に抑えることを目的としています。

## 機能
Pythonスクリプト
データサイズを基に予測転送時間と許容転送時間を計算し、適切なディスク読み取り速度の制限率を決定します。

シェルスクリプト
現在進行中のrsyncプロセスを一時停止し、新たに制限付きで再開します。

## 使用方法
前提条件
Python3 のインストール
実行権限のあるシェル環境 (Linux または macOS)

## 実行方法

・Pythonスクリプトを実行

・データサイズ (GB) を入力
データサイズに基づき、転送時間とディスク読み取り速度の制限率が自動的に計算されます。

・rsyncプロセスが再起動
制限付きでバックアップが再開されます。


## ファイル構成
transfer_time.py
データサイズの入力に基づいて転送時間を計算し、シェルスクリプトを呼び出します。

adjust_rsync_speed.sh
現在のrsyncプロセスを停止し、指定された制限率で再開します。

## 実行結果
```
データサイズ (GB) を入力してください: 50
50GB の予測転送時間: 7:41
許容転送時間 (基準時間の38%増し): 10:37
制限率: 50%
現在の rsync プロセスを停止しています...
rsync を制限付きで再開します (制限率: 50%)...
sending incremental file list
file1
     10,485,760 100%   50.00MB/s    0:00:00 (xfr#1, to-chk=0/1)

sent 10,485,760 bytes  received 0 bytes  5,242,880.00 bytes/sec
total size is 10,485,760  speedup is 1.00
```
