# Speedy-restore

このリポジトリには、rsyncを使用してデータ転送を実行および制御するための3つのshスクリプトが含まれています。スクリプトは転送時間を予測し、許容時間内に収めるための転送速度を計算し、速度制限を適用して効率的な転送を実現します。

## ファイル一覧
execute_rsync.sh

メインスクリプトです。以下の処理を順に実行します：
transfer_time.shを呼び出して転送時間を予測。
必要な転送速度を計算し、速度制限を適用。
limit_rsync.shを呼び出して速度制限を設定。
rsyncコマンドを使用してファイルを転送。
transfer_time.sh

転送するデータのサイズに基づいて、以下を計算します：
予測転送時間
許容転送時間（予測転送時間の1.38倍）
ユーザー入力を受け付け、計算結果を出力します。
limit_rsync.sh

指定された速度制限をリモートホストに適用します。
rsyncプロセスを一時停止・再開しながら、転送速度を制御します。

## 使用方法
### 前提条件
・sshを設定済みで、リモートホストにパスワードなしでログインできる状態であること。
・rsyncがローカルおよびリモートホストにインストールされていること。

## スクリプトの実行手順
## 1.転送時間の予測と計算

execute_rsync.shを実行すると、以下のプロセスが順次行われます：

スクリプトが呼び出すtransfer_time.shでデータサイズ（GB単位）を入力してください。

予測転送時間と許容転送時間が計算されます。

## 2.転送速度制限の適用

必要な転送速度が計算され、limit_rsync.shで速度制限がリモートホストに適用されます。

## 3.rsyncによるファイル転送

計算された転送速度を使用して、rsyncでファイルが転送されます。進捗状況が表示されます。


## 注意事項
実行時に適切な権限でスクリプトを操作してください。
スクリプト内のリモートホスト設定（REMOTE_HOSTやファイルパス）は環境に応じて編集してください。

